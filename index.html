<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IFL Okul Ligi Genel Fikst√ºr</title>
  <style>
    body {
      font-family: "Inter", sans-serif;
      background-color: #111;
      color: #eaeaea;
      text-align: center;
      padding: 20px;
      margin: 0;
    }

    h1 {
      font-size: 24px;
      margin-bottom: 25px;
      color: #f1f1f1;
      letter-spacing: 1px;
    }

    h2 {
      margin: 30px 0 10px;
      font-size: 18px;
      color: #f5f5f5;
    }

    /* üîß Tablolarƒ± hizalamak i√ßin eklendi */
    #tables-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 25px;
      width: 100%;
    }

    .table-wrapper {
      width: 100%;
      max-width: 800px;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    table {
      border-collapse: collapse;
      width: 100%;
      background: #1a1a1a;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
      min-width: 400px;
      margin: 0 auto; /* merkezde hizalama */
    }

    th, td {
      padding: 10px 8px;
      border-bottom: 1px solid #333;
      text-align: center;
      white-space: nowrap;
    }

    th {
      background: #222;
      color: #ccc;
      text-transform: uppercase;
      font-size: 12px;
      letter-spacing: 0.5px;
    }

    td {
      color: #ddd;
      font-size: 13px;
    }

    tr:nth-child(even) {
      background: #181818;
    }

    tr:hover {
      background: #2a2a2a;
      transition: 0.2s ease;
    }

    @media (max-width: 600px) {
      body { padding: 10px; }
      h1 { font-size: 20px; }
      h2 { font-size: 16px; }
      th, td { padding: 8px 6px; font-size: 12px; }
      table { min-width: 320px; }
    }
  </style>
</head>
<body>

  <h1>IFL OKUL Lƒ∞Gƒ∞ GENEL Fƒ∞KST√úR</h1>

  <div id="tables-container">Y√ºkleniyor...</div>

  <script>
    const sheetId = "1u_61M8yOpSrLxKZ_H7edc6U75cpYSa5BOscC9t85FEw";
    const gid = "574919767";
    const csvUrl = `https://docs.google.com/spreadsheets/d/${sheetId}/export?format=csv&gid=${gid}`;

    const ranges = {
      "9/A": { startRow: 3, endRow: 8, startCol: 1, endCol: 4 },
      "9/B": { startRow: 3, endRow: 8, startCol: 6, endCol: 9 },
      "10/A": { startRow: 13, endRow: 18, startCol: 1, endCol: 4 },
      "10/B": { startRow: 13, endRow: 18, startCol: 6, endCol: 9 },
      "11/A": { startRow: 23, endRow: 28, startCol: 1, endCol: 4 },
      "11/B": { startRow: 23, endRow: 28, startCol: 6, endCol: 9 },
    };

    async function loadTables() {
      try {
        const res = await fetch(csvUrl);
        const text = await res.text();
        const rows = text.split("\n").map(r => r.split(","));

        const container = document.getElementById("tables-container");
        container.innerHTML = "";

        Object.keys(ranges).forEach((className) => {
          const r = ranges[className];
          const subRows = rows.slice(r.startRow - 1, r.endRow).map(row => row.slice(r.startCol - 1, r.endCol));

          if (subRows.length === 0 || subRows[0].length === 0) return;

          const title = document.createElement("h2");
          title.textContent = className;
          container.appendChild(title);

          const wrapper = document.createElement("div");
          wrapper.className = "table-wrapper";

          const table = document.createElement("table");
          const thead = document.createElement("thead");
          const thr = document.createElement("tr");

          subRows[0].forEach((header) => {
            const th = document.createElement("th");
            th.textContent = header.trim();
            thr.appendChild(th);
          });

          thead.appendChild(thr);
          table.appendChild(thead);

          const tbody = document.createElement("tbody");
          subRows.slice(1).forEach((row) => {
            const tr = document.createElement("tr");
            row.forEach((cell) => {
              const td = document.createElement("td");
              td.textContent = cell.trim();
              tr.appendChild(td);
            });
            tbody.appendChild(tr);
          });
          table.appendChild(tbody);
          wrapper.appendChild(table);
          container.appendChild(wrapper);
        });
      } catch (err) {
        document.getElementById("tables-container").innerHTML = "‚ö†Ô∏è Veri y√ºklenemedi: " + err.message;
      }
    }

    loadTables();
    setInterval(loadTables, 60000);
  </script>

</body>
</html>
